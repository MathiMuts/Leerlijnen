<!DOCTYPE html>
<html lang="nl"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>Overzicht bachelor fyscia</title>
<script type="text/javascript">
/* 
INFO: INFO OPLEIDING FYSICA
*/
var columns = {
  0  : ["Wiskundige Basis", 30],
  1  : ["Informatica", 0],
  2  : ["Klassieke Fysica", 60],
  3  : ["Sterrenkunde", 120],
  4  : ["Elektromagnetisme", 180],
  5  : ["Kwantum Fysica", 240],
  6  : ["Experimentele Fysica", 270],
  6.5: ["Chemie", 300],
  7  : ["Statistische Fysica", 330],
  8  : ["Geavanceerde Wiskunde", 30],
  9  : ["Biochemie", 100],
  10 : ["Economie", 160],
};

var courses = {
  // Wiskunde basis
  "G0Y37A": ["Calculus 1", [[0, 2], 1], "basis_wisk"],
  "G0Y40A": ["Calculus 2", [[0, 3], 1], "basis_wisk"],
  "G0N84B": ["Differentiaal-\nvergelijkingen", [[0, 4], 1], "basis_wisk"],
  "G0N27A": ["Lineaire algebra", [[0, 5], 1], "basis_wisk"],
  "G0U13C": ["Bewijzen en\nredeneren", [[0, 6], 1], "basis_wisk"],
  "G0Z26A": ["Kansrekenen en\nstatistiek", [[0, 7], 1], "basis_wisk"],
  // Fysica
  "G0N29B": ["AN I:\nMechanica", [[2, 1], 1], "default"],
  "G0W75A": ["Fysica practicum", [[6, 1], 1], "default"],
  "G0P26A": ["Thermodynamica", [[7, 2], 1], "default"],
  "G0N94C": ["AN II:\nElektromagnetisme", [[4, 2], 1], "default"],
  "G0U45A": ["Inleiding tot de\n sterrenkunde", [[3, 2], 1], "default"],
  "G0P28A": ["AN III:\nFysica van de 20e eeuw", [[5, 3], 1], "default"],
  "G0P30A": ["Klassieke\nmechanica", [[2, 3], 1], "default"],
  "G0P34A": ["Elektrodynamica", [[4, 4], 1], "default"],
  "G0Y20A": ["Kwantummechanica", [[5, 4], 1], "default"],
  "G00E1A": ["Experimentele\nbasistechnieken", [[6, 3.5], 1.5], "default"],
  "G0S00A": ["Statistische mechanica", [[7, 5], 1], "default"],
  "G0P45B": ["Atoom- en kernfysica", [[5, 6], 1], "default"],
  "G0Y94A": ["Fysica van de\ngecond. materie", [[7, 6], 1], "default"],
  "G0P40A": ["Projectwerk\nnatuurkunde", [[6, 5], 2], "default"],
  "G00E0A": ["Chemie", [[6.5, 2.75], 1], "default"],
  "G0N28A": ["Beginselen van\nprogrammeren", [[1, 1], 1], "default"],
  "G0P36B": ["Computergesteund\nprobleemoplossen", [[1, 3.5], 1], "default"],
  //Minor Ster-inf
  "G0Y53A": ["Radiative processes\nin astromomy", [[3, 3], 1], "minor_ster_inf"],
  "H01P1A":["Objectgericht\nprogrammeren", [[1, 4.5], 1], "minor_ster_inf"],
  "G0N98A": ["Fluid\ndynamics", [[2, 5], 1], "minor_ster_inf"],
  "G0Z38A": ["Astronomy\nmethods", [[3, 5], 1], "minor_ster_inf"],
  "G0P81A": ["Gegevensstructuren &\nalgoritmen", [[1, 6], 1], "minor_ster_inf"],
  // Wiskunde minor
  "G0U13D": ["Bewijzen en\nredeneren II", [[8, 1], 1], "minor_wisk"],
  "G0N30B": ["Analyse I", [[8, 2], 1], "minor_wisk"],
  "G0T45B": ["Algebra√Øsche structuren", [[8, 3], 1], "minor_wisk"],
  "G0N86B": ["Analyse II", [[8, 4], 1], "minor_wisk"],
  "G0N88B": ["Algebra I", [[8, 5], 1], "minor_wisk"],
  "G0N31B": ["Meetkunde I", [[8, 6], 1], "minor_wisk"],
  // bio-chemie minor
  "G0N20E": ["Dynamische biochemie", [[9, 1], 1], "minor_bio"],
  "G0N04C": ["Celbiologie en\nbiochemie", [[9, 2], 2], "minor_bio"],
  "G0O53C": ["Moleculaire biologie", [[9, 4], 1], "minor_bio"],
  "K0B25B": ["Celfysiologie", [[9, 5], 1], "minor_bio"],
  "G0O58C": ["Spectroscopy of\nBiomolecules", [[9, 6], 1], "minor_bio"],
  // business minor
  "G0S62A": ["Principles of Economics", [[10, 1], 1], "minor_bni"],
  "D0H54A": ["Marketing engineering", [[10, 2], 1], "minor_bni"],
  "G0S66A": ["Workshops innovatie", [[10, 3], 1], "minor_bni"],
  "D0T32A": ["Economics of Innovation\n& Intellectual Property", [[10, 4], 1], "minor_bni"],
  "H0O00A": ["Globale uitdagingen", [[10, 5], 1], "minor_bni"],
  "G0S68A": ["Innovatieproject", [[10, 6], 1], "minor_bni"],
  
};

var relations = [
// Analyse 1
[["G0N30B", "G0N86B"], [["right", 8, 2], ["center", 8.49, 2], ["center", 8.49, 4], ["right", 8, 4]]],

// BnR 2
[["G0U13D", "G0N30B"], [["top", 8, 1], ["bottom", 8, 2]]],

// Analyse 2
[["G0N86B", "G0Y20A"], [["left", 8, 4], ["center", 7.5, 4], ["center", 7.5, 1.5], ["center", 5.5, 1.5], ["below", 5.5, 4], ["below", 5, 4], ["bottom", 5, 4]]],

// Algebraische structuren
[["G0T45B", "G0N88B"], [["left", 8, 3], ["center", 7.5, 3], ["center", 7.5, 5], ["left", 8, 5]]],
[["G0T45B", "G0Y20A"], [["left", 8, 3], ["center", 7.5, 3], ["center", 7.5, 1.5], ["center", 5.5, 1.5], ["below", 5.5, 4], ["below", 5, 4], ["bottom", 5, 4]]],

// Calc 1
[["G0Y37A", "G0Y40A"], [["right", 0, 1], ["left", 0, 2]]],
[["G0Y37A", "G0N29B"], [["top", 0, 1], ["bottom", 2, 1]]],
[["G0Y37A", "G0U45A"], [["top", 0, 1], ["center", 2, 0.3], ["center", 3, 0.3], ["bottom", 3, 2]]],
[["G0Y37A", "G0N94C"], [["top", 0, 1], ["center", 2, 0.3], ["center", 4, 0.3], ["bottom", 4, 2]]],
[["G0Y37A", "G0P36B"], [["top", 0, 1], ["center", 2, 0.3], ["center", 1.5, 0.3], ["center", 1.5, 2], ["center", 1, 2], ["bottom", 1, 3.5]]],
[["G0Y37A", "G00E0A"], [["top", 0, 1], ["center", 2, 0.3], ["center", 6.5, 0.3], ["bottom", 6.5, 2.75]]],
[["G0Y37A", "G0N30B"], [["top", 0, 1], ["center", 2, 0.3], ["center", 7.5, 0.3], ["center", 7.5, 2], ["left", 8, 2]]],

// Calc 2
[["G0Y40A", "G0N84B"], [["right", 0, 2], ["left", 0, 3]]],
[["G0Y40A", "G0P30A"], [["top", 0, 2], ["center", 3, 0.3], ["center", 2.5, 0.3], ["center", 2.5, 3], ["right", 2, 3]]],
[["G0Y40A", "G0Y53A"], [["top", 0, 2], ["center", 3, 0.3], ["center", 2.5, 0.3], ["center", 2.5, 3], ["left", 3, 3]]],
[["G0Y40A", "G0P26A"], [["top", 0, 2], ["center", 3, 0.3], ["center", 7, 0.3], ["bottom", 7, 2]]],
[["G0Y40A", "G0P34A"], [["top", 0, 2], ["center", 3, 0.3], ["center", 4.5, 0.3], ["center", 4.5, 3.5], ["center", 4, 3.5], ["bottom", 4, 4]]],
[["G0Y40A", "G0Y20A"], [["top", 0, 2], ["center", 3, 0.3], ["center", 4.5, 0.3], ["center", 4.5, 3.5], ["center", 5, 3.5], ["bottom", 5, 4]]],
[["G0Y40A", "G0N98A"], [["top", 0, 2], ["center", 3, 0.3], ["center", 2.5, 0.3], ["center", 2.5, 5], ["right", 2, 5]]],
[["G0Y40A", "G0S00A"], [["top", 0, 2], ["center", 3, 0.3], ["center", 7.5, 0.3], ["center", 7.5, 5], ["right", 7, 5]]],
[["G0Y40A", "G0P28A"], [["top", 0, 2], ["center", 3, 0.3], ["center", 5, 0.3], ["bottom", 5, 3]]],
[["G0Y40A", "G0N86B"], [["top", 0, 2], ["center", 3, 0.3], ["center", 8.49, 0.3], ["center", 8.49, 4], ["right", 8, 4]]],

// Diff
[["G0N84B", "G0P34A"], [["top", 0, 3], ["center", 4, 0.3], ["center", 4.5, 0.3], ["center", 4.5, 3.5], ["center", 4, 3.5], ["bottom", 4, 4]]],
[["G0N84B", "G0Y20A"], [["top", 0, 3], ["center", 4, 0.3], ["center", 4.5, 0.3], ["center", 4.5, 3.5], ["center", 5, 3.5], ["bottom", 5, 4]]],
[["G0N84B", "G0N98A"], [["top", 0, 3], ["center", 4, 0.3], ["center", 2.5, 0.3], ["center", 2.5, 5], ["right", 2, 5]]],
[["G0N84B", "G0N86B"], [["top", 0, 3], ["center", 4, 0.3], ["center", 8.49, 0.3], ["center", 8.49, 4], ["right", 8, 4]]],

// Lineaire
[["G0N27A", "G0N84B"], [["left", 0, 4], ["right", 0, 3]]],
[["G0N27A", "G0P34A"], [["top", 0, 4], ["center", 5, 0.3], ["center", 4.5, 0.3], ["center", 4.5, 3.5], ["center", 4, 3.5], ["bottom", 4, 4]]],
[["G0N27A", "G0Y20A"], [["top", 0, 4], ["center", 5, 0.3], ["center", 4.5, 0.3], ["center", 4.5, 3.5], ["center", 5, 3.5], ["bottom", 5, 4]]],
[["G0N27A", "G0N98A"], [["top", 0, 4], ["center", 5, 0.3], ["center", 2.5, 0.3], ["center", 2.5, 5], ["right", 2, 5]]],
[["G0N27A", "G0P30A"], [["top", 0, 4], ["center", 5, 0.3], ["center", 2.5, 0.3], ["center", 2.5, 3], ["right", 2, 3]]],

[["G0N27A", "G0T45B"], [["top", 0, 4], ["center", 5, 0.3], ["center", 8.49, 0.3], ["center", 8.49, 3], ["right", 8, 3]]],
[["G0N27A", "G0N86B"], [["top", 0, 4], ["center", 5, 0.3], ["center", 8.49, 0.3], ["center", 8.49, 4], ["right", 8, 4]]],
[["G0N27A", "G0N88B"], [["top", 0, 4], ["center", 5, 0.3], ["center", 8.49, 0.3], ["center", 8.49, 5], ["right", 8, 5]]],
[["G0N27A", "G0N31B"], [["top", 0, 4], ["center", 5, 0.3], ["center", 8.49, 0.3], ["center", 8.49, 6], ["right", 8, 6]]],

// BnR 1
[["G0U13C", "G0N27A"], [["left", 0, 5], ["right", 0, 4]]],
[["G0U13C", "G0Z26A"], [["right", 0, 5], ["left", 0, 6]]],
[["G0U13C", "G0U13D"], [["top", 0, 5], ["center", 6, 0.3], ["center", 8, 0.3], ["bottom", 8, 1]]],
// BnR bij AN1
//[["G0U13C", "G0N29B"], [["top", 8, 5], ["center", 6, 0.3], ["center", 2, 0.3], ["bottom", 2, 1]]],

// Kans en stat 
[["G0Z26A", "G0P26A"], [["top", 0, 6], ["bottom", 7, 2]]],
[["G0Z26A", "G0S00A"], [["right", 0, 6], ["center", 0, 6.5], ["center", 7.5, 5], ["right", 7, 5]]],
[["G0Z26A", "G00E1A"], [["right", 0, 6], ["center", 0, 6.5], ["center", 7.5, 3.75], ["right", 6, 3.75]]],
[["G0Z26A", "G0Y20A"], [["top", 0, 6], ["center", 7, 0.3], ["center", 4.5, 0.3], ["center", 4.5, 3.5], ["center", 5, 3.5], ["bottom", 5, 4]]],

// BvP
[["G0N28A", "G0P36B"], [["top", 1, 1], ["bottom", 1, 3.5]]],
[["G0N28A", "H01P1A"], [["right", 1, 1], ["center", 1.5, 1], ["center", 1.5, 4.5], ["right", 1, 4.5]]],
[["G0N28A", "G0P81A"], [["right", 1, 1], ["center", 1.5, 1], ["center", 1.5, 6], ["right", 1, 6]]],
[["G0N28A", "G00E1A"], [["right", 1, 1], ["center", 1.5, 1], ["center", 1.5, 3.5], ["left", 6, 3.5]]],

// AN1
[["G0N29B", "G0W75A"], [["right", 2, 1], ["left", 6, 1]]],
[["G0N29B", "G0N94C"], [["right", 2, 1], ["center", 4, 1], ["bottom", 4, 2]]],
[["G0N29B", "G0U45A"], [["right", 2, 1], ["center", 3, 1], ["bottom", 3, 2]]],
[["G0N29B", "G0P28A"], [["right", 2, 1], ["center", 5, 1], ["bottom", 5, 3]]],
[["G0N29B", "G0P30A"], [["top", 2, 1], ["bottom", 2, 3]]],
[["G0N29B", "G00E1A"], [["right", 2, 1], ["center", 5, 1], ["center", 5, 2], ["center", 6, 2], ["bottom", 6, 3.5]]],
[["G0N29B", "G0P26A"], [["right", 2, 1], ["center", 5, 1], ["center", 5, 2], ["left", 7, 2]]],
[["G0N29B", "G0N98A"], [["right", 2, 1], ["center", 2.5, 1], ["center", 2.5, 5], ["right", 2, 5]]],
// Chemie
//[["G0N29B", "G00E0A"], [["right", 2, 1], ["center", 5, 1], ["center", 5, 2], ["center", 6.5, 2], ["bottom", 6.5, 2.75]]],

// Practicum
[["G0W75A", "G00E1A"], [["top", 6, 1], ["bottom", 6, 3.5]]],

// AN2
[["G0N94C", "G0P28A"], [["right", 4, 2], ["center", 5, 2], ["bottom", 5, 3]]],
[["G0N94C", "G00E0A"], [["right", 4, 2], ["center", 6.5, 2], ["bottom", 6.5, 2.75]]],
[["G0N94C", "G00E1A"], [["right", 4, 2], ["center", 6, 2], ["bottom", 6, 3.5]]],
[["G0N94C", "G0P34A"], [["top", 4, 2], ["bottom", 4, 4]]],
[["G0N94C", "G0Y53A"], [["top", 4, 2], ["center", 4, 3], ["right", 3, 3]]],

// Sterrenkunde
[["G0U45A", "G0Y53A"], [["top", 3, 2], ["bottom", 3, 3]]],
[["G0U45A", "G0Z38A"], [["right", 3, 2], ["center", 3.5, 2], ["center", 3.5, 5], ["right", 3, 5]]],
// projectwerk
// [["G0U45A", "G0P40A"], [["right", 3, 2], ["center", 3.5, 2], ["above", 3.5, 4], ["above", 6, 4], ["bottom", 6, 5]]],

// Thermodynamica
[["G0P26A", "G00E0A"], [["top", 7, 2], ["center", 7, 2.75], ["right", 6.5, 2.75]]],
[["G0P26A", "G0S00A"], [["top", 7, 2], ["bottom", 7, 5]]],
[["G0P26A", "G0Y94A"], [["right", 7, 2], ["center", 7.5, 2], ["center", 7.5, 6], ["right", 7, 6]]],

// AN3
[["G0P28A", "G00E1A"], [["right", 5, 3], ["center", 6, 3], ["bottom", 6, 3.5]]],
[["G0P28A", "G0Y20A"], [["top", 5, 3], ["bottom", 5, 4]]],
[["G0P28A", "G0P34A"], [["top", 5, 3], ["above", 5, 3], ["below", 4, 4], ["bottom", 4, 4]]],

// Chemie
[["G00E0A", "G00E1A"], [["top", 6.5, 2.75], ["center", 6.5, 3.75], ["right", 6, 3.75]]],

// Klassieke mechanica
[["G0P30A", "G0Y20A"], [["top", 2, 3], ["above", 2, 3], ["above", 5, 3], ["bottom", 5, 4]]],
[["G0P30A", "G0P34A"], [["top", 2, 3], ["above", 2, 3], ["above", 4, 3], ["bottom", 4, 4]]],
[["G0P30A", "G0S00A"], [["top", 2, 3], ["above", 2, 4], ["above", 7, 4], ["bottom", 7, 5]]],
[["G0P30A", "G0Y94A"], [["top", 2, 3], ["above", 2, 4], ["above", 6.5, 4], ["center", 6.5, 6], ["left", 7, 6]]],
[["G0P30A", "G0P45B"], [["top", 2, 3], ["above", 2, 4], ["above", 5, 4], ["bottom", 5, 6]]],
[["G0P30A", "G0P40A"], [["top", 2, 3], ["above", 2, 4], ["above", 6, 4], ["bottom", 6, 5]]],

// Experimentele basistechnieken
[["G00E1A", "G0P40A"], [["top", 6, 4], ["bottom", 6, 5]]],

// CPN
[["G0P36B", "G0P40A"], [["right", 1, 3.5], ["center", 2, 3.5], ["above", 2, 4], ["above", 6, 4], ["bottom", 6, 5]]], 
[["G0P36B", "G0Z38A"], [["right", 1, 3.5], ["center", 2, 3.5], ["above", 2, 4], ["above", 3, 4], ["bottom", 3, 5]]],

// Elektrodynamica
[["G0P34A", "G0P40A"], [["top", 4, 4], ["above", 4, 4], ["above", 6, 4], ["bottom", 6, 5]]],

// Kwantummechanica
[["G0Y20A", "G0S00A"], [["top", 5, 4], ["above", 5, 4], ["above", 7, 4], ["bottom", 7, 5]]],
[["G0Y20A", "G0P45B"], [["top", 5, 4], ["bottom", 5, 6]]],
[["G0Y20A", "G0Y94A"], [["top", 5, 4], ["above", 5, 4], ["above", 6.5, 4], ["center", 6.5, 6], ["left", 7, 6]]],
[["G0Y20A", "G0P40A"], [["top", 5, 4], ["above", 5, 4], ["above", 6, 4], ["bottom", 6, 5]]],

// Stat mech
[["G0S00A", "G0Y94A"], [["top", 7, 5], ["bottom", 7, 6]]],
[["G0S00A", "G0P40A"], [["left", 7, 5], ["right", 6, 5]]],

// Gecondenseerde materie
[["G0Y94A", "G0P40A"], [["top", 7, 6], ["above", 7, 6], ["above", 6.1, 6], ["top", 6.1, 6]]],

// Kern en atomaire
[["G0P45B", "G0P40A"], [["right", 5, 6], ["left", 6, 6]]],

// Radiation processes
[["G0Y53A", "G0P34A"], [["top", 3, 3], ["above", 3, 3], ["above", 4, 3], ["bottom", 4, 4]]],
[["G0Y53A", "G0Z38A"], [["top", 3, 3], ["bottom", 3, 5]]],

// Astronomy methods
[["G0Z38A", "G0P40A"], [["top", 3, 5], ["above", 3, 5], ["left", 6, 5.5]]],

// OGP
[["H01P1A", "G0P81A"], [["top", 1, 4.5], ["bottom", 1, 6]]],

// GNA
[["G0P81A", "G0P40A"], [["top", 1, 6], ["above", 1, 6], ["above", 5.9, 6], ["top", 5.9, 6]]],

];
</script>
<script src="Overzicht%20bachelor%20fyscia_files/easeljs.min.js"></script>
<script>
/*
INFO: COLOR DEFINITIONS
*/
const COLORS = {
  courseDefault: (hue) => `hsl(${hue}, 100%, 80%)`,
  courseSelected: (hue) => `hsl(${hue}, 100%, 70%)`,
  coursePrerequisite: (hue) => `hsl(${hue}, 100%, 90%)`,
  courseDependent: (hue) => `hsl(${hue}, 100%, 95%)`,
  columnDefault: (hue) => `hsl(${hue}, 75%, 95%)`,
  columnSelected: (hue) => `hsl(${hue}, 50%, 95%)`,
  columnInactive: (hue) => `hsl(${hue}, 0%, 95%)`,
  courseInactive: "#eee",
  arrowStroke: "#000",
  textColor: "#000",
  buttonDefault: "#73bfc7",
  buttonHover: "#57B7CC",
  buttonOn: "#049DD9",
  buttonOnHover: "#04B2D9",
  buttonBorder: "#003c70",
};

/*
INFO: TEKENFUNCTIES
*/
const offset = {x: 40, y: 260};
const cwidth = 240;
const rheight = 100;
const vspacing = 40;
const bwidth = 160;
const bheight = rheight - vspacing;
const hpadding = 20;
const vpadding = 20;
const a_size = 6;

const locate = {
  "top": {
    x: ((x) => offset.x + (x - 1) * cwidth + bwidth / 2),
    y: ((y) => offset.y + (6 - y) * rheight),
    a: +90
  },
  "bottom": {
    x: ((x) => offset.x + (x - 1) * cwidth + bwidth / 2),
    y: ((y) => offset.y + (6 - y) * rheight + bheight),
    a: -90
  },
  "left": {
    x: ((x) => offset.x + (x - 1) * cwidth),
    y: ((y) => offset.y + (6 - y) * rheight + bheight / 2),
    a: 0
  },
  "right": {
    x: ((x) => offset.x + (x - 1) * cwidth + bwidth),
    y: ((y) => offset.y + (6 - y) * rheight + bheight / 2),
    a: 180
  },
  "above": {
    x: ((x) => offset.x + (x - 1) * cwidth + bwidth / 2),
    y: ((y) => offset.y + (6 - y) * rheight - vspacing / 2)
  },
  "below": {
    x: ((x) => offset.x + (x - 1) * cwidth + bwidth / 2),
    y: ((y) => offset.y + (6 - y) * rheight + bheight + vspacing / 2)
  },
  "center": {
    x: ((x) => offset.x + (x - 1) * cwidth + bwidth / 2),
    y: ((y) => offset.y + (6 - y) * rheight + bheight / 2)
  }
};

function drawArrow(instructions) {
  const arrow = new createjs.Shape();
  arrow.graphics.setStrokeStyle(2).s(COLORS.arrowStroke).beginStroke(COLORS.arrowStroke);

  let i = instructions.shift();
  let x = locate[i[0]].x(i[1]);
  let y = locate[i[0]].y(i[2]);

  if (i[1] === 0) {
    x = locate[i[0]].x(i[1]) + (i[2] + 1) * cwidth;
    y = locate[i[0]].y(i[2]) + 1 * bheight + 2 * vspacing + (i[2] - 1) * (bheight + vspacing);
  }

  arrow.graphics.moveTo(x, y);

  for (i of instructions) {
    x = locate[i[0]].x(i[1]);
    y = locate[i[0]].y(i[2]);

    if (i[1] === 0) {
      x = locate[i[0]].x(i[1])+ (i[2] + 1) * cwidth;
      y = locate[i[0]].y(i[2]) + 1 * bheight + 2 * vspacing + (i[2] - 1) * (bheight + vspacing);
    }

    arrow.graphics.lineTo(x, y);
  }

  let angle = locate[i[0]].a;
  x -= a_size * Math.cos(angle * (Math.PI / 180));
  y -= a_size * Math.sin(angle * (Math.PI / 180));
  arrow.graphics.beginFill(COLORS.arrowStroke);
  arrow.graphics.drawPolyStar(x, y, a_size, 3, 0, angle);

  arrow.visible = false;

  return arrow;
}

(function() {

function Course(id, label, loc, sem, color, type) {
  this.Container_constructor();

  this.id = id;
  this.label = label;
  this.loc = loc;
  this.sem = sem;
  this.color = COLORS.courseDefault(columns[this.loc[0]][1]);
  this.type = "course";

  this.setup();
}
var p = createjs.extend(Course, createjs.Container);

p.setup = function() {
  if (this.loc[0] !== 0) {
    this.x = offset.x + (this.loc[0] - 1) * cwidth;
    this.y = offset.y + (7 - this.loc[1] - this.sem) * rheight;
  } else {
    this.x = offset.x + (this.loc[1] - 1) * cwidth;
    this.y = offset.y + 6 * rheight + 1 * vspacing;
  }

  this.width = bwidth;
  this.height = this.sem * rheight - vspacing;

  var text = new createjs.Text(this.label, "14px Arial", COLORS.textColor);
  text.textBaseline = "top";
  text.textAlign = "center";

  var b = text.getBounds();
  text.x = this.width / 2;
  text.y = this.height / 2 - (b.height / 2);

  this.background = new createjs.Shape();
  this.background.graphics.setStrokeStyle(1.25);
  this.background.graphics.beginFill(this.color).beginStroke(COLORS.arrowStroke).drawRoundRect(0,0,this.width,this.height,10);

  this.addChild(this.background, text);
  this.on("mousedown", this.handleClick);
  this.on("mouseover", this.handleOver);
  this.on("mouseout", this.handleOver);
  this.cursor = "pointer";
};

p.update = function() {
 this.background.graphics.clear();
 this.background.graphics.setStrokeStyle(1.25);
 this.background.graphics.beginFill(this.color).beginStroke(COLORS.arrowStroke).drawRoundRect(0,0,this.width,this.height,10);
}

p.handleClick = function (event) {
  for (const id in courses) {
    const item = courses[id][3];
    if (item.id == this.id) {
      item.color = COLORS.courseSelected(columns[this.loc[0]][1]);
      this.alpha = 1;
    } else if (relations.some((relation) => relation[0][0] == item.id && relation[0][1] == this.id)) {
      item.color = COLORS.coursePrerequisite(columns[this.loc[0]][1]);
    } else if (relations.some((relation) => relation[0][0] == this.id && relation[0][1] == item.id)) {
      item.color = COLORS.courseDependent(columns[this.loc[0]][1]);
    } else {
      item.color = COLORS.courseInactive;
    }
    item.update();
  }

  for (const id in columns) {
    if (id % 1 == 0) {
      const item = columns[id][2];
      if (item.id == this.loc[0]) {
        item.color = COLORS.columnSelected(columns[id][1]);
      } else {
        item.color = COLORS.columnInactive(columns[id][1]);
      }
      item.update();
    }
  }

  for (const relation of relations) {
    if (!relation[2].disabled && (relation[0][0] == this.id || relation[0][1] == this.id)) {
      relation[2].visible = true;
    } else {
      relation[2].visible = false;
    }
  }
};

p.handleOver = function(event) {
  if (event.nativeEvent.type == "mousemove") {this.alpha = event.type == "mouseover" ? 0.5 : 1.0;}
};

window.Course = createjs.promote(Course, "Container");
}());

(function() {

function Column(id, label, color) {
  this.Container_constructor();

  this.id = id;
  this.label = label;
  this.color = COLORS.columnDefault(color);
  this.type = "column";

  this.setup();
}
var p = createjs.extend(Column, createjs.Container);

p.setup = function() {
  if (this.id != 0) {
    this.x = offset.x + (this.id - 1) * cwidth - hpadding;
    this.y = offset.y - vpadding;
    
    this.width = bwidth + 2 * hpadding;
    this.height = 6 * rheight - vspacing + 2 * vpadding;
  } else {
    this.x = offset.x + bwidth + 3 * hpadding;
    this.y = offset.y + 6 * rheight + 0.5 * vspacing;
    
    this.width = 6*(bwidth + 4 * hpadding) - 2 * hpadding;
    this.height = 1 * rheight - vspacing + 2 * vpadding;
  }
  var text = new createjs.Text(this.label, "20px Arial", COLORS.textColor);
  text.textBaseline = "bottom";
  text.textAlign = "center";
  var b = text.getBounds();

  if (this.id != 0) {
    text.x = this.width / 2;
    text.y = - b.height;
  } else {
    text.x = - 0.1*this.width;
    text.y = 3 * b.height;
  }
  
  this.background = new createjs.Shape();
  this.background.graphics.beginFill(this.color).drawRoundRect(0,0,this.width,this.height,20);
  
  this.addChild(this.background, text);
};

p.update = function() {
 this.background.graphics.clear();
 this.background.graphics.beginFill(this.color).drawRoundRect(0,0,this.width,this.height,20);
}

window.Column = createjs.promote(Column, "Container");
}());

function CanvasButton(label, x, y, width, height, isOn, onClick) {
  this.Container_constructor();

  this.label = label;
  this.x = x;
  this.y = y;
  this.width = width;
  this.height = height;
  this.onClick = onClick;
  this.isOn = isOn;

  this.setup();
}
var p = createjs.extend(CanvasButton, createjs.Container);

p.setup = function () {
  this.background = new createjs.Shape();
  this.updateBackground();

  this.width = bwidth;
  this.height = rheight - vspacing;

  var text = new createjs.Text(this.label, "16px Arial", COLORS.textColor);
  text.textAlign = "center";
  text.textBaseline = "top";
  var b = text.getBounds();
  text.x = this.width / 2;
  text.y = this.height / 2 - (b.height / 2);

  this.addChild(this.background, text);

  this.cursor = "pointer";

  this.on("mouseover", () => {
    this.background.graphics.clear();
    this.background.graphics
      .setStrokeStyle(1.25)
      .beginFill(this.isOn ? COLORS.buttonOnHover : COLORS.buttonHover)
      .beginStroke(COLORS.buttonBorder)
      .drawRoundRect(0, 0, this.width, this.height, 10);
    stage.update();
  });

  this.on("mouseout", () => {
    this.updateBackground();
    stage.update();
  });

  this.on("click", (event) => {
    this.isOn = !this.isOn;
    this.updateBackground();
    this.onClick();
    stage.update();
  });
};

p.updateBackground = function () {
  this.background.graphics.clear();
  this.background.graphics
    .setStrokeStyle(1.25)
    .beginFill(this.isOn ? COLORS.buttonOn : COLORS.buttonDefault)
    .beginStroke(COLORS.buttonBorder)
    .drawRoundRect(0, 0, this.width, this.height, 10);
};

window.CanvasButton = createjs.promote(CanvasButton, "Container");

function hide_arrows_on_init() {
  for (const relation of relations) {
    const [source, target] = relation[0];
    const arrow = relation[2];

    if (
      (courses[source][3] && !courses[source][3].visible) ||
      (courses[target][3] && !courses[target][3].visible)
    ) {
      arrow.disabled = true;
    } else {
      arrow.disabled = false;
    }
  }
}

</script>
</head>
<body>

<canvas id="canvas"><!--240 per kolom--></canvas>
<script type="text/javascript">
/*
 INFO: CANVAS CREATIE
*/
const canvas = document.getElementById("canvas");
canvas.width = cwidth * (Object.keys(columns).length - 4);
canvas.height = (6 - 1 ) * rheight + cwidth + offset.y;

var stage = new createjs.Stage("canvas");
stage.enableMouseOver();

for (let i = 0; i <=  Object.keys(columns).length - 2; i++) {
  var column = new Column(i, columns[i][0], columns[i][1]);
  columns[i].push(column);
  stage.addChild(column);
}

let minorStates = {
  minor_ster_inf: true,
  minor_wisk: true,
  minor_bio: false,
  minor_bni: false,
};

for (const id in courses) {
  let [label, info] = courses[id];
  let loc = info[0];
  let sem = info[1];
  let color = columns[loc[0]][1];
  var course = new Course(id, label, loc, sem, color);
  courses[id].push(course);
  stage.addChild(course);

  const tag = courses[id][2];
  if (minorStates[tag] !== undefined && !minorStates[tag]) {
    course.visible = false;
  }
}

for (let i = 0; i < relations.length; i++) {
  var arrow = drawArrow(relations[i][1]);
  relations[i].push(arrow);
  stage.addChild(arrow);
}

hide_arrows_on_init();

function release_courses() {
  for (const id in courses) {
       let item = courses[id][3];
       item.color = COLORS.courseDefault(columns[item.loc[0]][1]);    
       item.update();
      }
      
      for (id in columns) {
        if (id % 1 == 0){
          item = columns[id][2];
          item.color = COLORS.columnDefault(columns[id][1]);
          item.update();
        }
      }
      
      for (relation of relations) {
        relation[2].visible = false;
      }
}

stage.on("stagemousedown",
  function(event) {
    const clicked_object = stage.getObjectUnderPoint(event.stageX, event.stageY);

    if (clicked_object != null && (clicked_object && clicked_object.parent instanceof CanvasButton || clicked_object.parent.type === "course")) {
      return;
    }
    release_courses()
  }
);

// function updatePositions() {
//   subtitle.x = offset.x + (hiddenColumns ? 1 : 2) * cwidth + 4 * hpadding;
//   title.x = canvas.width / 2;

//   toggleMinorSterButton.x = offset.x + (hiddenColumns ? 2 : 3) * cwidth;
//   toggleMinorWiskButton.x = offset.x + (hiddenColumns ? 3 : 4) * cwidth;
//   toggleMinorBioButton.x = offset.x + (hiddenColumns ? 4 : 5) * cwidth;
//   toggleMinorBniButton.x = offset.x + (hiddenColumns ? 5 : 6) * cwidth;

//   stage.update();
// }

let hiddenColumns = !minorStates['minor_bio'] && !minorStates['minor_bni']

function toggle_minor(minor) {
  minorStates[minor] = !minorStates[minor];
  
  
  hiddenColumns = !minorStates['minor_bio'] && !minorStates['minor_bni']

  if (hiddenColumns) {
    canvas.width = cwidth * (Object.keys(columns).length - 4);
  } else {
    canvas.width = cwidth * (Object.keys(columns).length - 2);
  }

  for (const id in courses) {
    const course = courses[id][3];
    const tag = courses[id][2];

    if (minorStates[tag] !== undefined && minorStates[tag]) {
      course.visible = true;
    } else if (minorStates[tag] !== undefined && !minorStates[tag]) {
      if (course.color === COLORS.courseSelected(columns[course.loc[0]][1])) {
        release_courses();
      }
      course.visible = false;
    } else {
      course.visible = true;
    }
  }
  for (const relation of relations) {
    const [source, target] = relation[0];
    const arrow = relation[2];
    if (
      (courses[source][3] && courses[source][3].visible) &&
      (courses[target][3] && courses[target][3].visible) &&
      (courses[source][3].color === COLORS.courseSelected(columns[courses[source][3].loc[0]][1]) ||
       courses[target][3].color === COLORS.courseSelected(columns[courses[target][3].loc[0]][1]))
    ) {
      arrow.visible = true;
      arrow.disabled = false;
    } else if (
      (courses[source][3] && !courses[source][3].visible) ||
      (courses[target][3] && !courses[target][3].visible)
    ) {
      arrow.disabled = true;
      arrow.visible = false;
    } else {
      arrow.disabled = false;
    }
  }
  // updatePositions();

  stage.update();
};

var title = new createjs.Text("Leerlijnen Fysica", "40px Arial", COLORS.textColor);
title.textAlign = "center";
title.textBaseline = "top";
title.x = canvas.width / 2;
title.y = 20;
stage.addChild(title);

var subtitle = new createjs.Text("Toon Minoren:", "20px Arial", COLORS.textColor);
subtitle.textAlign = "center";
subtitle.textBaseline = "top";
subtitle.x = offset.x + 1*cwidth + 4*hpadding;
subtitle.y = 1.8*bheight;
stage.addChild(subtitle);

var toggleMinorSterButton = new CanvasButton("Minor\nster-inf", offset.x + 2*cwidth, 1.5*bheight, bwidth, bheight, true, function () { toggle_minor("minor_ster_inf"); });
stage.addChild(toggleMinorSterButton);

var toggleMinorWiskButton = new CanvasButton("Minor\nwiskunde", offset.x + 3*cwidth, 1.5*bheight, bwidth, bheight, true, function () { toggle_minor("minor_wisk"); });
stage.addChild(toggleMinorWiskButton);

var toggleMinorBioButton = new CanvasButton("Minor\nbio-chemie", offset.x + 4*cwidth, 1.5*bheight, bwidth, bheight, false, function () { toggle_minor("minor_bio"); });
stage.addChild(toggleMinorBioButton);

var toggleMinorBniButton = new CanvasButton("Minor business\n& innovation", offset.x + 5*cwidth, 1.5*bheight, bwidth, bheight, false, function () { toggle_minor("minor_bni"); });
stage.addChild(toggleMinorBniButton);

createjs.Ticker.on("tick", stage);
</script>
</body></html>